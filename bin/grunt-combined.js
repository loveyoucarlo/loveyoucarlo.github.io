!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(t,n,a,r,o){function i(){a.cancel(l),o.complete(),u=0,s=0}function c(t){var a,r=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(a=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:r);var i=void 0!==a?void 0!==a.get(t.url):!1;return void 0!==t.cached&&i!==t.cached?t.cached:(t.cached=i,i)}var l,s=0,u=0,d=o.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||c(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===s&&(l=a(function(){o.start()},d)),s++,o.set(u/s)),e},response:function(e){return e.config.ignoreLoadingBar||c(e.config)||(u++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),u>=s?i():o.set(u/s)),e},responseError:function(e){return e.config.ignoreLoadingBar||c(e.config)||(u++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),u>=s?i():o.set(u/s)),t.reject(e)}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,a){function r(){u||(u=e.get("$animate"));var r=t.find(p).eq(0);n.cancel(h),v||(a.$broadcast("cfpLoadingBar:started"),v=!0,S&&u.enter(g,r),y&&u.enter(m,r),o(T))}function o(e){if(v){var t=100*e+"%";f.css("width",t),b=e,n.cancel(d),d=n(function(){i()},250)}}function i(){if(!(c()>=1)){var e=0,t=c();e=t>=0&&.25>t?(3*Math.random()+3)/100:t>=.25&&.65>t?3*Math.random()/100:t>=.65&&.9>t?2*Math.random()/100:t>=.9&&.99>t?.005:0;var n=c()+e;o(n)}}function c(){return b}function l(){b=0,v=!1}function s(){u||(u=e.get("$animate")),a.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(h),h=n(function(){var e=u.leave(g,l);e&&e.then&&e.then(l),u.leave(m)},500)}var u,d,h,p=this.parentSelector,g=angular.element(this.loadingBarTemplate),f=g.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,b=0,y=this.includeSpinner,S=this.includeBar,T=this.startSize;return{start:r,set:o,status:c,inc:i,complete:s,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();var carloApp=angular.module("carloApp",["ngRoute","ngAnimate","angular-loading-bar"]),PageSection=function(e,t){this.name=e,this.url=t,this.error=null},SplashTribute=function(e,t,n){this.content=e,this.author=t,this.link=n,this.error=null};carloApp.config(["$routeProvider","$locationProvider","cfpLoadingBarProvider",function(e,t,n){e.when("/",{templateUrl:"/templates/splash.html",controller:"carloController",controllerAs:"splash_page"}),t.html5Mode(!0),n.latencyThreshold=0}]).controller("carloController",["$scope","$http","cfpLoadingBar",function(e,t,n){e.pageSections=[new PageSection("About Carlo","/")],e.splashTributes=[new SplashTribute('The last text I got from @lolcatstevens was so Carlo it hurts: "<3. Happy Valentine\'s Day a little early!" I miss you',"Diego Prats","https://twitter.com/mexitlan/status/568542288504160256"),new SplashTribute('Then he looked at me earnestly and said, "I\'m going to rock for you today, Thomas." He broke into giggles as he swivelled back to his computer-machine.',"Thomas Dunlap","http://imgoingtorockforyou.today/"),new SplashTribute("Sometimes I forget just how lucky I am, until one of those stars flickers out.","Vyki Englert","https://medium.com/@vyki_e/love-you-carlo-8c8bb642a238"),new SplashTribute('@lolcatstevens was the only person I knew with the balls to tell people "I love you" for no apparent reason. i wish i\'d responded in kind.',"Dan Yoder","https://twitter.com/dyoder/status/568265570883235840")],e.displayedTribute=e.splashTributes[0],e.currentPageSection="splash_page",e.start=function(){n.start()},e.complete=function(){n.complete()},e.sectionClick=function(t){e.currentPageSection=t.url},e.isActiveSection=function(t){return t==e.currentPageSection},e.type=function(e,t){(function n(a){if(e.length<=a++)return t.value=e,void 0;t.value=e.substring(0,a)," "!=t.value[t.value.length-1]&&t.focus();var r=Math.floor(100*Math.random())+40;setTimeout(function(){n(a)},r)})(0)},e.getRandomElement=function(e){return e[Math.floor(Math.random()*e.length)]},e.makeTribute=function(){e.displayedTribute=e.getRandomElement(e.splashTributes)}}]).directive("scroll",function(){var e=angular.element(window);return{restrict:"C",link:function(t,n){e.bind("scroll",function(){var t=1.75,a=!1;n.hasClass("scroll-slow")&&(t=1.15,a=!0),n.css({"margin-top":e[0].pageYOffset/t+"px"}),a&&n.css({opacity:1-e[0].pageYOffset/640})})}}});