!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var n=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(n,t,a,r,i){function o(){a.cancel(l),i.complete(),d=0,s=0}function c(n){var a,r=t.get("$http"),i=e.defaults;!n.cache&&!i.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(a=angular.isObject(n.cache)?n.cache:angular.isObject(i.cache)?i.cache:r);var o=void 0!==a?void 0!==a.get(n.url):!1;return void 0!==n.cached&&o!==n.cached?n.cached:(n.cached=o,o)}var l,s=0,d=0,u=i.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||c(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===s&&(l=a(function(){i.start()},u)),s++,i.set(d/s)),e},response:function(e){return e.config.ignoreLoadingBar||c(e.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),d>=s?o():i.set(d/s)),e},responseError:function(e){return e.config.ignoreLoadingBar||c(e.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),d>=s?o():i.set(d/s)),n.reject(e)}}}];e.interceptors.push(n)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,n,t,a){function r(){d||(d=e.get("$animate"));var r=n.find(g).eq(0);t.cancel(p),m||(a.$broadcast("cfpLoadingBar:started"),m=!0,$&&d.enter(h,r),S&&d.enter(v,r),i(b))}function i(e){if(m){var n=100*e+"%";f.css("width",n),B=e,t.cancel(u),u=t(function(){o()},250)}}function o(){if(!(c()>=1)){var e=0,n=c();e=n>=0&&.25>n?(3*Math.random()+3)/100:n>=.25&&.65>n?3*Math.random()/100:n>=.65&&.9>n?2*Math.random()/100:n>=.9&&.99>n?.005:0;var t=c()+e;i(t)}}function c(){return B}function l(){B=0,m=!1}function s(){d||(d=e.get("$animate")),a.$broadcast("cfpLoadingBar:completed"),i(1),t.cancel(p),p=t(function(){var e=d.leave(h,l);e&&e.then&&e.then(l),d.leave(v)},500)}var d,u,p,g=this.parentSelector,h=angular.element(this.loadingBarTemplate),f=h.find("div").eq(0),v=angular.element(this.spinnerTemplate),m=!1,B=0,S=this.includeSpinner,$=this.includeBar,b=this.startSize;return{start:r,set:i,status:c,inc:o,complete:s,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();var carloApp=angular.module("carloApp",["ngRoute","ngAnimate","angular-loading-bar"]),PageSection=function(e,n){this.name=e,this.url=n,this.error=null};carloApp.config(["$routeProvider","$locationProvider","cfpLoadingBarProvider",function(e,n,t){e.when("/",{templateUrl:"/templates/splash.html",controller:"carloController",controllerAs:"splash_page"}),n.html5Mode(!0),t.latencyThreshold=0}]).controller("carloController",["$scope","$http","cfpLoadingBar",function(e,n,t){e.pageSections=[new PageSection("About Carlo","/")],e.currentPageSection="splash_page",e.start=function(){t.start()},e.complete=function(){t.complete()},e.sectionClick=function(n){e.currentPageSection=n.url},e.isActiveSection=function(n){return n==e.currentPageSection}}]).directive("scroll",function(){var e=angular.element(window);return{restrict:"C",link:function(n,t){e.bind("scroll",function(){var n=1.75,a=!1;t.hasClass("scroll-slow")&&(n=1.15,a=!0),t.css({"margin-top":e[0].pageYOffset/n+"px"}),a&&t.css({opacity:1-e[0].pageYOffset/640})})}}});